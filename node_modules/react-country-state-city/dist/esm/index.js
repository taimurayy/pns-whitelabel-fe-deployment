import e,{useState as n,useRef as t,useEffect as a}from"react";var o=function(){return o=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},o.apply(this,arguments)};function r(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(a=Object.getOwnPropertySymbols(e);o<a.length;o++)n.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(t[a[o]]=e[a[o]])}return t}function i(e,n,t,a){return new(t||(t=Promise))((function(o,r){function i(e){try{l(a.next(e))}catch(e){r(e)}}function c(e){try{l(a.throw(e))}catch(e){r(e)}}function l(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,c)}l((a=a.apply(e,n||[])).next())}))}function c(e,n){var t,a,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(c){return function(l){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,c[0]&&(i=0)),i;)try{if(t=1,a&&(o=2&c[0]?a.return:c[0]?a.throw||((o=a.return)&&o.call(a),0):a.next)&&!(o=o.call(a,c[1])).done)return o;switch(a=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,a=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=n.call(e,i)}catch(e){c=[6,e],a=0}finally{t=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}var l=function(){return i(void 0,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,fetch("https://venkatmcajj.github.io/react-country-state-city/data/countriesminified.json").then((function(e){return e.json()}))];case 1:return[2,e.sent()]}}))}))},u=function(){return i(void 0,void 0,void 0,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,fetch("https://venkatmcajj.github.io/react-country-state-city/data/languagesminified.json").then((function(e){return e.json()}))];case 1:return[2,e.sent()]}}))}))},s=function(e){return i(void 0,void 0,void 0,(function(){var n,t;return c(this,(function(a){switch(a.label){case 0:return[4,fetch("https://venkatmcajj.github.io/react-country-state-city/data/statesminified.json").then((function(e){return e.json()}))];case 1:return n=a.sent(),t=n.find((function(n){return n.id===e})),[2,t&&t.states?t.states:[]]}}))}))},d=function(e,n){return i(void 0,void 0,void 0,(function(){var t,a,o,r;return c(this,(function(i){switch(i.label){case 0:return[4,fetch("https://venkatmcajj.github.io/react-country-state-city/data/citiesminified.json").then((function(e){return e.json()}))];case 1:return t=i.sent(),(a=t.find((function(n){return n.id===e})))?(o=a&&a.states?a.states:[],[2,(r=o.find((function(e){return e.id===n})))&&r.cities?r.cities:[]]):[2,[]]}}))}))},f=function(){return e.createElement("svg",{height:"20",width:"20",viewBox:"0 0 20 20"},e.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},m=function(i){var c=i.placeHolder,l=i.options,u=i.onChange,s=i.inputClassName,d=i.onTextChange,m=i.defaultValue,p=i.showFlag,h=void 0===p||p,v=r(i,["placeHolder","options","onChange","inputClassName","onTextChange","defaultValue","showFlag"]),C=n(!1),g=C[0],w=C[1],y=n(),N=y[0],E=y[1],b=n(""),x=b[0],j=b[1],k=t(null),T=t(null);a((function(){m&&E(m)}),[m]),a((function(){j(""),g&&k.current&&k.current.focus()}),[g]),a((function(){var e=function(e){T.current&&!T.current.contains(e.target)&&w(!1)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}));var H=function(e){return!!N&&N.id===e.id};return e.createElement("div",{className:"stdropdown-container"},e.createElement("div",{ref:T,onClick:function(){w(!0)},className:"stdropdown-input stsearch-box"},e.createElement("input",o({},v,{className:s,onChange:function(e){j(e.target.value),E(void 0),d&&d(e)},value:N?"".concat(h&&"emoji"in N?N.emoji:""," ").concat(N.name):x||"",placeholder:c,ref:k})),e.createElement("div",{className:"stdropdown-tools"},e.createElement("div",{className:"stdropdown-tool"},e.createElement(f,null)))),g&&e.createElement("div",{className:"stdropdown-menu"},(x?l.filter((function(e){return e.name.toLowerCase().indexOf(x.toLowerCase())>=0})):l).map((function(n){return e.createElement("div",{onClick:function(){return function(e){E(e),u(e)}(n)},key:n.id,className:"".concat("stdropdown-item"," ").concat(H(n)&&"selected")},h&&e.createElement("span",null,"emoji"in n?n.emoji:""),n.name)}))))},p=function(t){var i=t.containerClassName,c=t.inputClassName,u=t.onTextChange,s=t.defaultValue,d=t.onChange,f=t.placeHolder,p=t.showFlag,h=r(t,["containerClassName","inputClassName","onTextChange","defaultValue","onChange","placeHolder","showFlag"]),v=n([]),C=v[0],g=v[1];return a((function(){l().then((function(e){g(e)}))}),[]),e.createElement(e.Fragment,null,e.createElement("div",{className:i,style:{position:"relative"}},e.createElement(m,o({},h,{placeHolder:f,options:C,onChange:function(e){d&&d(e)},showFlag:p,onTextChange:u,defaultValue:s,inputClassName:c}))))},h=function(t){var i=t.containerClassName,c=t.inputClassName,l=t.onTextChange,u=t.defaultValue,d=t.onChange,f=t.countryid,p=t.placeHolder,h=r(t,["containerClassName","inputClassName","onTextChange","defaultValue","onChange","countryid","placeHolder"]),v=n([]),C=v[0],g=v[1];return a((function(){f&&s(f).then((function(e){g(e)}))}),[f]),e.createElement(e.Fragment,null,e.createElement("div",{className:i,style:{position:"relative"}},e.createElement(m,o({},h,{placeHolder:p,options:C,onChange:function(e){d&&d(e)},onTextChange:l,defaultValue:u,inputClassName:c}))))},v=function(t){var i=t.containerClassName,c=t.inputClassName,l=t.onTextChange,u=t.defaultValue,s=t.onChange,f=t.countryid,p=t.stateid,h=t.placeHolder,v=r(t,["containerClassName","inputClassName","onTextChange","defaultValue","onChange","countryid","stateid","placeHolder"]),C=n([]),g=C[0],w=C[1];return a((function(){f&&d(f,p).then((function(e){w(e)}))}),[f,p]),e.createElement(e.Fragment,null,e.createElement("div",{className:i,style:{position:"relative"}},e.createElement(m,o({},v,{placeHolder:h,options:g,onChange:function(e){s&&s(e)},onTextChange:l,defaultValue:u,inputClassName:c}))))},C=function(){return e.createElement("svg",{height:"20",width:"20",viewBox:"0 0 20 20"},e.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},g=function(i){var c=i.placeHolder,l=i.options,u=i.onChange,s=i.inputClassName,d=i.onTextChange,f=i.defaultValue,m=i.displayNative,p=r(i,["placeHolder","options","onChange","inputClassName","onTextChange","defaultValue","displayNative"]),h=n(!1),v=h[0],g=h[1],w=n(),y=w[0],N=w[1],E=n(""),b=E[0],x=E[1],j=t(null),k=t(null);a((function(){f&&N(f)}),[f]),a((function(){x(""),v&&j.current&&j.current.focus()}),[v]),a((function(){var e=function(e){k.current&&!k.current.contains(e.target)&&g(!1)};return window.addEventListener("click",e),function(){window.removeEventListener("click",e)}}));var T=function(e){return!!y&&y.code===e.code};return e.createElement("div",{className:"stdropdown-container"},e.createElement("div",{ref:k,onClick:function(){g(!0)},className:"stdropdown-input stsearch-box"},e.createElement("input",o({},p,{className:s,onChange:function(e){x(e.target.value),N(void 0),d&&d(e)},value:y?"".concat(m?y.native:y.name):b||"",placeholder:c,ref:j})),e.createElement("div",{className:"stdropdown-tools"},e.createElement("div",{className:"stdropdown-tool"},e.createElement(C,null)))),v&&e.createElement("div",{className:"stdropdown-menu"},(b?l.filter((function(e){return e.name.toLowerCase().indexOf(b.toLowerCase())>=0})):l).map((function(n){return e.createElement("div",{onClick:function(){return function(e){N(e),u(e)}(n)},key:n.code,className:"".concat("stdropdown-item"," ").concat(T(n)&&"selected")},m?n.native:n.name)}))))},w=function(t){var i=t.containerClassName,c=t.inputClassName,l=t.onTextChange,s=t.defaultValue,d=t.onChange,f=t.placeHolder,m=t.displayNative,p=r(t,["containerClassName","inputClassName","onTextChange","defaultValue","onChange","placeHolder","displayNative"]),h=n([]),v=h[0],C=h[1];return a((function(){u().then((function(e){C(e)}))}),[]),e.createElement(e.Fragment,null,e.createElement("div",{className:i,style:{position:"relative"}},e.createElement(g,o({},p,{placeHolder:f,options:v,onChange:function(e){d&&d(e)},displayNative:m,onTextChange:l,defaultValue:s,inputClassName:c}))))};export{v as CitySelect,p as CountrySelect,d as GetCity,l as GetCountries,u as GetLanguages,s as GetState,w as LanguageSelect,h as StateSelect};
//# sourceMappingURL=index.js.map
